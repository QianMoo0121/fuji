\LevelOne{system\_message}

\LevelTwo{Purpose}
This module provides \tbf{system message} customization.

\LevelTwo{How it works?}
The server will send \ttt{translatable text} to the client, by default, the client will display the translatable text in the language used in client-side.
This module will hijack the pre-define \ttt{translatable text} in the server-side, and sends the client a \ttt{customized text} directly.
As a loss of this approach, the client will always receive the customized text defined in the server, instead of the \ttt{translatable text} defined in the client.

\begin{note}{What is translatable text?}
    For example:
    \begin{enumerate}
        \item player join and leave server message
        \item player advancement message
        \item player death message
        \item player command feedback
        \item player whitelist message
    \end{enumerate}
\end{note}

\begin{note}{How to query the translatable text?}
    See \href{https://github.com/sakurawald/fuji/blob/dev/.github/files/en_us.json}{mojang's official language file}, all keys inside the file are for \ttt{translatable text}.

    Note that, some keys in the file are client-side only translatable text, which means that the server will never send this type of translatable text to the client.
\end{note}

\begin{warn}{Possible conflicting with StyledChat}
    If you are using this module with \tbf{StyledChat} mod installed, you need to remove the conflicting \tbf{language keys} in \tbf{key2value} configuration. \\
    See also: \url{https://github.com/sakurawald/fuji/issues/65}\\
    See also: \url{https://github.com/sakurawald/fuji/issues/203}\\
\end{warn}

\LevelTwo{Example}

\begin{example}{Custom the player join and leave message.}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "multiplayer.player.joined": "<rainbow>+ %s",
                "multiplayer.player.left": "<dark_gray>%s leeeeeeeeft the game"
            }
        },
    \end{jsoncode}

\end{example}

\begin{example}{Custom a specific death message.}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "death.attack.explosion.player": "<rainbow>%1$s booooooom because of %2$s"
            }
        },
    \end{jsoncode}
\end{example}

\begin{example}{Custom messages used in screen.}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "multiplayer.disconnect.server_shutdown": "Server closeeeeeeeed",
                "multiplayer.disconnect.not_whitelisted": "<rainbow>Please apply a whitelist first!"
            }
        },
    \end{jsoncode}
\end{example}

\begin{example}{Custom messages in a container}
    \begin{jsoncode}
        "key2value": {
            "container.chest": "<rb>I see you opening the chest!"
        }
    \end{jsoncode}
\end{example}

\begin{example}{Custom the vanilla command feedback.}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "commands.seed.success": "<rainbow> Seeeeeeeeeeed: %s"
            }
        },
    \end{jsoncode}
\end{example}

\begin{example}{Custom the player disconnect message}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "multiplayer.player.left": "<dark_gray>%s leeeeeeeeft the game"
            }
        },
    \end{jsoncode}
\end{example}

\begin{example}{Cancel the player disconnect message}
    \begin{jsoncode}
        "system_message": {
            "enable": true,
            "key2value": {
                "multiplayer.player.left": null
            }
        },
    \end{jsoncode}
\end{example}
