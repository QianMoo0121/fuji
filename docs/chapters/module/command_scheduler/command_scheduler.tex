\LevelOne{command\_scheduler}\label{ch:command_scheduler}

\LevelTwo{Purpose}
Define \ttt{jobs} using \ttt{cron expression} to execute commands.

\LevelTwo{How it works?}
A~\nameref{sec:job} is defined by crons, with conditions like \ttt{left times}.\\
A job will be \ttt{triggered} if current time meets any of its cron expressions.\\
A \ttt{commands} will be chosen randomly from the \ttt{commands list} of the job and executed if the following conditions are meet:
\begin{enumerate}
    \item The \ttt{enable} of the job is \ttt{true}
    \item The \ttt{left times} of the job >= 0
\end{enumerate}
The commands will be executed as console.

\LevelTwo{Command}
\fcmd{/command-scheduler trigger}
Immediately trigger a job.

\fcmd{/command-scheduler list}
List all defined jobs.

\LevelTwo{Example}
\begin{example}{Define a job that executes commands 32 times on every minute}
    \begin{jsoncode}
    {
        "name": "example_job",
        "enable": true,
        "left_times": 32,
        "crons": [
        "0 * * ? * * *"
        ],
        "commands_list": [
        [
        "say 1 minute passed"
        ],
        [
        "say 60 seconds passed"
        ]
        ]
    }
    \end{jsoncode}
\end{example}
